package Portal2D;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;

public class Block {
	int x,y,width,height;
	int time = 0;
	boolean portalable = true;

	Blocktype special = Blocktype.Normal; // is a string instead of null to avoid nullPointerExceptions
	Color color = Colors.lightGrey;
	public boolean isOnButton = false;
	BufferedImage lavagif;
	BufferedImage Als1e,Als2e,Als3e,Als4e,Als5e,Als6e,Als7e,Als8e,Als9e,Als10e,Als11e,Als12e,Als13e,Als14e,Als15e,Als16e,Als17e,Als18e,Als19e,Als20e,Als21e,Als22e,Als23e,Als24e,Als25e;
	
	public void Lava(int x,int y) {
		this.x = x;
		this.y = y;
		
		try {
			//lavagif =ImageIO.read(new File("Resorces/Images/Lava met bellen.gif"));
			Als1e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 1e.png"));
			Als2e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 2e.png"));
			Als3e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 3e.png"));
			Als4e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 4e.png"));
			Als5e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 5e.png"));
			Als6e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 6e.png"));
			Als7e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 7e.png"));
			Als8e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 8e.png"));
			Als9e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 9e.png"));
			Als10e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 10e.png"));
			Als11e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 11e.png"));
			Als12e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 12e.png"));
			Als13e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 13e.png"));
			Als14e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 14e.png"));
			Als15e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 15e.png"));
			Als16e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 16e.png"));
			Als17e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 17e.png"));
			Als18e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 18e.png"));
			Als19e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 19e.png"));
			Als20e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 20e.png"));
			Als21e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 21e.png"));
			Als22e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 22e.png"));
			Als23e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 23e.png"));
			Als24e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 24e.png"));
			Als25e = ImageIO.read(new File("Resources/Images/lava met bellengif Als 25e.png"));
			lavagif = Als25e;
			lavagif = Als1e;
			} catch(IOException ex) {
			System.out.println("gif load failed");
		}
		
	}
		

	
	Block(int x, int y,int width,int height) {
		this.x = x;
		this.y = y;
		this.width = width;
		this.height = height;
		
	}
	Block(int x, int y,int width,int height,Blocktype special) {
		this.x = x;
		this.y = y;
		this.width = width;
		this.height = height;
		
		this.special = special;
		if (special == Blocktype.Endzone) {//finish, end of level
			this.color = Colors.nuclearGreen;
		} else if (special == Blocktype.Lava) {//lava, kills Chell
			Lava(x,y);
			for (int i=0; i<width/50;i++) {
				Games.level.add(new Block(x+i*50,y,0,50,Blocktype.Lava));
			}
		
			
		} else if (special== Blocktype.Allergic) {//floors that don't take portals
			this.color = Colors.darkGrey;
			portalable = false;
		} else if (special == Blocktype.Button) {//it's a button
			this.color = Colors.buttonYellow;
			portalable = false;
		} else if (special == Blocktype.ButtonListener) {//changes if isOnButton is active
			this.color = Colors.reactionPink;
			portalable = false;
		}
	}
	
	public Direction intersect(Point point,int targetheight) {
		if (point.y+targetheight <= y) {
			return Direction.Up;
		} else if (point.y >= y+height) {
			return Direction.Down;
		} else if (point.x < x+width/2) {
			return Direction.Left;
		}
		return Direction.Right;
	}
	
	public void draw(Graphics g,int tick) {
		if (special ==Blocktype.ButtonListener && Mainpanel.someoneOnButton) {
		}
		
		
		else if (special == Blocktype.Lava) {
			if(tick-time<2) {
				lavagif = Als1e;
				}else if(tick-time<4) {
					lavagif = Als2e;
				}else if(tick-time<6) {
					lavagif = Als3e;
				}else if(tick-time<8) {
					lavagif = Als4e;
				}else if(tick-time<10) {
					lavagif = Als5e;
				}else if(tick-time<12) {
					lavagif = Als6e;
				}else if(tick-time<14) {
					lavagif = Als7e;
				}else if(tick-time<16) {
					lavagif = Als8e;
				}else if(tick-time<18) {
					lavagif = Als9e;
				}else if(tick-time<20) {
					lavagif = Als10e;
				}else if(tick-time<22) {
					lavagif = Als11e;
				}else if(tick-time<24) {
					lavagif = Als12e;
				}else if(tick-time<26) {
					lavagif = Als13e;
				}else if(tick-time<28) {
					lavagif = Als14e;
				}else if(tick-time<30) {
					lavagif = Als15e;
				}else if(tick-time<32) {
					lavagif = Als16e;
				}else if(tick-time<34) {
					lavagif = Als17e;
				}else if(tick-time<36) {
					lavagif = Als18e;
				}else if(tick-time<38) {
					lavagif = Als19e;
				}else if(tick-time<40) {
					lavagif = Als20e;
				}else if(tick-time<42) {
					lavagif = Als21e;
				}else if(tick-time<44) {
					lavagif = Als22e;
				}else if(tick-time<46) {
					lavagif = Als23e;
				}else if(tick-time<48) {
					lavagif = Als24e;
				}else {
					lavagif = Als25e;
					time = tick;
					}
			g.drawImage(lavagif,x,y,null);
		}
		else {
		g.setColor(color);
		g.fillRect(x, y, width, height);
		}
	}
	
}
